if("<%= @request.errors.count %>" != 0)
{
	$("#request_new").find("#error").empty();
	$("#request_new").find("#error").append("<span class='msg-error'>Количество ошибок: <%= @request.errors.count %></span><br>" +
	                                        "<span class='msg-error'>Проверьте обязательные для ввода поля</span>");
}
else
{
	$("<tr style='opacity: 0;' id='<%= @request.id %>'>" +
		"<td><%= @request.id %></td>" +
		"<td><%= @request.employee %></td>" +
		"<td><%= if @request.id then escape_javascript(link_to @request.machine, edit_request_path(@request), remote: true, class: 'edit btn') end %></td>" +
		"<td><%= if @request.id then escape_javascript(link_to @request.description, edit_request_path(@request), remote: true, class: 'edit btn') end %></td>" +
		"<td class='actions'><%= escape_javascript(link_to 'Удалить', @request, method: :delete, data: { confirm: 'Вы уверены?' }, class: 'btn delete', remote: true) %></td>" +
	"</tr>").appendTo("#requests")
	.animate({opacity: 1}, 500, function() {
		setDeleteAction($("a[data-remote].delete"));
    	setEditAction($("a[data-remote].edit"));
	});

	$("#request_new").find("#error").empty();
	$("#request_new").find("#error").append("<span class='msg-success'>Заявка успешно создана</span>");
}