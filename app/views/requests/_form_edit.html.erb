<div ng-show="editing" class="border-top">
<button type="button" class="close" ng-click="editing=false">&times;</button>
  <h1 class="text-center">Заявка {{editingId}}</h1>
  <form ng-submit="updateRequest()" class="form-horizontal">

    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label class="col-sm-4 text-right" for="registrar_name">Регистратор</label>
          <div class="col-sm-8 text-left" id="registrar_name">{{editingRegistrarName}}</div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label class="col-sm-4 text-right" for="request_type_name">Тип заявки</label>
          <div class="col-sm-8 text-left" id="request_type_name">{{editingRequestTypeName}}</div>
        </div>
        <div class="form-group" ng-show='editingRequestType == "phone"'>
          <label class="col-sm-4 text-right" for="phone">Телефон</label>
          <div class="col-sm-8 text-left" id="phone">{{editingPhone}}</div>
        </div>
      </div>
    </div>

    <div class="form-group" ng-class='{"has-warning": !editingInputs.machineId, "has-success": editingInputs.machineId}'>
      <%= label_tag :machine_id, "Автомат", :class => "col-sm-2 control-label" %>
      <div class="col-sm-8">
        <%= select_tag :machine_id, options_for_select(Machine.all.collect {|m| [ m.name, m.id ] }), :class => "form-control", "ng-model" => "editingMachineId", "ng-required" => true %>
      </div>
    </div>

    <div class="form-group" ng-class='{"has-success": editingInputs.description}'>
      <label class="col-sm-2 control-label" for="description">Описание</label>
      <div class="col-sm-8">
        <input id="description" type="text" ng-model='editingDescription' placeholder="Введите описание" class="form-control">
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-2"></div>
      <div class="col-sm-8"><input type="submit" value="Сохранить" class="btn btn-primary"></div>
    </div><br>

    <div class="row">
      <div class="col-md-4">
          <table class="table table-striped table-hover table-condensed table-bordered">
            <thead>
              <tr>
                <th>Сигналы</th>
              </tr>
            </thead>

            <tbody>
              <tr ng-repeat="message in requestMessages track by $index">
                <td>{{message}}</td>
              </tr>
            </tbody>
          </table>
      </div>
      <div class="col-md-4">
          <table class="table table-striped table-hover table-condensed table-bordered">
            <thead>
              <tr>
                <th>Поручения</th>
              </tr>
            </thead>

            <tbody>
              <tr ng-repeat="task in requestTasks track by $index">
                <td>{{task}}</td>
              </tr>
            </tbody>
          </table>
      </div>
    </div>
  </form>
</div>