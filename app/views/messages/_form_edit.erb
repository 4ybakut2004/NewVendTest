<div ng-show="editing" class="border-top">
<button type="button" class="close" ng-click="editing=false">&times;</button>
  <h1 class="text-center">Тип сигнала {{editingId}}</h1>
  <form ng-submit="updateMessage()" class="form-horizontal">

    <div class="form-group" ng-class='{"has-warning": !editingInputs.requestType, "has-success": editingInputs.requestType}'>
      <label class="col-sm-2 control-label" for="request_type">Тип заявки</label>
      <div class="col-sm-8">
        <%= select_tag :request_type, options_for_select(Request.request_types.map { |k, v| [ v, k ] }), :class => "form-control", "ng-required" => "true", "ng-model" => 'editingRequestType'%>
      </div>
    </div>

    <div class="form-group" ng-class='{"has-warning": !editingInputs.name, "has-success": editingInputs.name}'>
      <label class="col-sm-2 control-label" for="name">Наименование</label>
      <div class="col-sm-8">
        <input id="name" type="text" ng-model='editingName' placeholder="Введите наименование" class="form-control" ng-required="true">
      </div>
    </div>

    <div class="form-group" ng-class='{"has-warning": !editingInputs.solverId, "has-success": editingInputs.solverId}'>
      <label class="col-sm-2 control-label" for="solver_id">Решатель</label>
      <div class="col-sm-8">
        <select ng-model="editingSolverId" 
          ng-options="employee.id as employee.name for employee in employees"
          class="form-control">
        </select>
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-2"></div>
      <div class="col-sm-8"><input type="submit" value="Сохранить" class="btn btn-primary"></div>
    </div><br>

    <div class="row">
      <div class="col-md-4">
        <h4 style="margin-top: 0px;">Типы поручений</h4>
        <ul class="non-point">
          <li ng-repeat="task in messageTasks | filter:existsFilter">
            <button type="button" class="btn btn-default active" ng-click="changeMessageTask(task)">{{task.name}}</button>
          </li>
          <li ng-repeat="task in messageTasks | filter:notExistsFilter">
            <button type="button" class="btn btn-default" ng-click="changeMessageTask(task)">{{task.name}}</button>
          </li>
        </ul>
      </div>

      <div class="col-md-4">
        <h4 style="margin-top: 0px;">Типы атрибутов</h4>
        <ul class="non-point">
          <li ng-repeat="attribute in messageAttributes | filter:existsFilter">
            <button type="button" class="btn btn-default active" ng-click="changeMessageAttribute(attribute)">{{attribute.name}}</button>
          </li>
          <li ng-repeat="attribute in messageAttributes | filter:notExistsFilter">
            <button type="button" class="btn btn-default" ng-click="changeMessageAttribute(attribute)">{{attribute.name}}</button>
          </li>
        </ul>
      </div>
    </div>
  </form>
</div>